(()=>{var e,t,o,a,n={237:(e,t,o)=>{"use strict";o.a(e,(async(e,t)=>{try{var a=o(993),n=o(261),r=o(973);window.onpopstate=e=>{(0,r.X)({model:document.documentElement.model,controller:n.A,message:{name:"navigation",data:(0,a.ox)(new URL(location))},routes:document.documentElement.routes})},window.localStorage.getItem("model")&&(document.documentElement.model={...document.documentElement.model,...JSON.parse(window.localStorage.getItem("model"))}),await(0,r.X)({model:document.documentElement.model,controller:n.A,routes:document.documentElement.routes}),t()}catch(e){t(e)}}),1)},973:(e,t,o)=>{"use strict";o.d(t,{X:()=>l});var a=o(993);const n={login:async(e,t)=>{const o=await(0,a.Em)({path:"/login",method:e?.data?"POST":"GET",body:e?.data});o.ok&&o.jsonBody?.data?.Token&&localStorage.setItem("token",o.jsonBody.data.Token),t({name:e.message,data:o})},fetch:async(e,t)=>{const o=await(0,a.Em)({...e.data,apiURL:document.documentElement.apiURL,token:localStorage.getItem("token")});401==o.status?t({name:"sessionFail",data:o}):e.message&&t({name:e.message,data:o})},multiFetch:async(e,t)=>{const o=Object.keys(e.data).map((t=>(0,a.Em)({...e.data[t],apiURL:document.documentElement.apiURL,token:localStorage.getItem("token")}))),n=await Promise.all(o),r={};for(let o=0;o<n.length;o++)401==n[o].status&&t({name:"sessionFail",data:n[o]}),r[Object.keys(e.data)[o]]=n[o];t({name:e.message,data:r})},navigate:async(e,t)=>{e?.data?.location?window.location=e?.data?.url??window.location.href:(e?.data?.url&&("replace"==e.data?.stateAction?window.history.replaceState({},null,e.data.url):(window.history.pushState({},null,e.data.url),window.scrollTo({top:0,left:0,behavior:"smooth"}))),await t({name:e.message??"navigation",data:{...(0,a.ox)(new URL(e?.data?.url??"",window.location)),stateAction:e.data?.stateAction??!1}}))},refresh:async(e,t)=>{window.history.replaceState({},null,window.location.href),e?.data?.location?window.location=window.location.href:t({name:e.message,data:window.location.href})},navigateBack:async(e,t)=>{window.history.back()},showModal:(e,t)=>{document.querySelector("dialog").removeAttribute("open"),document.querySelector("dialog").showModal(),e.message&&t({name:e.message,data:e?.data})}};function r(e,t,o){const a={deletedAttributes:[],addedAttributes:[],changedAttributes:[],deletedChildren:[],addedChildren:[],textChanged:[]};if(3===e.nodeType)e.textContent!=t.textContent&&(a.textChanged.push({before:e.textContent,after:t.textContent}),e.textContent=t.textContent);else{for(const o of e.attributes??[])t.hasAttribute&&!t.hasAttribute(o.name)&&a.deletedAttributes.push({name:o.name,value:o.value});for(const o of t.attributes??[])e.hasAttribute&&!e.hasAttribute(o.name)?a.addedAttributes.push({name:o.name,value:o.value}):e.getAttribute(o.name)!==o.value&&a.changedAttributes.push({name:o.name,value:o.value});const n=Array.from(t.childNodes??[]);for(const t of e.childNodes??[]){let e=!1;for(const a of n)if(!a.matched&&s(t,a)){a.matched=!0,e=!0,t.sortIndex=n.indexOf(a),r(t,a,o);break}e||a.deletedChildren.push(t)}for(const e of n.filter((e=>!e.matched)))e.sortIndex=n.indexOf(e),a.addedChildren.push(e);a.deletedChildren.forEach((e=>e.remove())),e.append(...a.addedChildren),a.deletedAttributes.forEach((t=>e.removeAttribute(t.name))),a.addedAttributes.forEach((t=>e.setAttribute(t.name,t.value))),a.changedAttributes.forEach((t=>{e.setAttribute(t.name,t.value),"value"==t.name&&(e.value=t.value)})),function(e){let t=!0;for(;t;){t=!1;for(let o=1;o<e.childNodes.length;o++){const a=e.childNodes[o],n=e.childNodes[o-1];a.sortIndex<n.sortIndex&&(e.insertBefore(a,n),t=!0)}}}(e)}const n=Object.entries(a).map((e=>({type:e[0],changes:e[1]}))).filter((e=>e.changes.length));n.length&&o&&o(e,n)}function s(e,t){const o=["tagName","nodeName","id"];for(const a of o)if(e[a]!==t[a])return!1;return!0}function d(e,t){if(e.hasAttribute("messages")){e.listeners||(e.listeners=[]),e.listeners.forEach((t=>e.removeEventListener(t.eventName,t.handler)));const o=e.getAttribute("messages");o&&o.split(";").map((e=>({eventName:e.split("=")[0].trim(),name:e.split("=")[1].trim()}))).forEach((o=>{const a=o.eventName.includes("!");o.eventName=o.eventName.replace("!","");const n={eventName:o.eventName,handler:e=>{if(t({name:o.name,data:e}),a)return e.preventDefault(),!1}};e.listeners.push(n),e.addEventListener(n.eventName,n.handler)}))}"A"!=e.tagName||"_blank"==e.getAttribute("target")||e.href.match(/^mailto:|^tel:/g)||e.onclick||(e.onclick=o=>{o.preventDefault(),e.listeners?.filter((e=>"click"==e.eventName)).length||n.navigate({data:{url:o.currentTarget.href,stateAction:o.currentTarget.getAttribute("data-state")},message:o.currentTarget.getAttribute("data-message")??"navigation"},t)})}async function l(e){if((e?.message?.controller??e?.model?.controller??"")!=(e?.model?.controller??""))return;const t=e.controller?await e.controller(e.model,e.message,e.routes,location.protocol+"//"+location.host):{model:e?.model};if(t.html){window.renderCallback&&(t.html=window.renderCallback(t.model,t.html??"")),t.html=t.html.replace(/<!--[\s\S]*?-->/g,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/\n/g,"");const a=(new DOMParser).parseFromString(t.html,"text/html").documentElement;r(document.documentElement,a,((t,o)=>{!function(e,t,o){t.filter((e=>"addedChildren"==e.type||e.type.includes("Attributes")&&e.changes.filter((e=>"messages"==e.name)).length)).forEach((t=>{"addedChildren"==t.type?t.changes.filter((e=>1===e.nodeType)).forEach((e=>{d(e,o),e.querySelectorAll("a, [messages]").forEach((e=>d(e,o)))})):d(e,o)}))}(t,o,(t=>l({...e,model:document.documentElement.model,message:t})))})),document.documentElement.DOM||(o=t=>l({...e,model:document.documentElement.model,message:t}),document.querySelectorAll("a, [messages]").forEach((e=>{d(e,o)})),document.documentElement.DOM=!0)}var o;return document.documentElement.model=e.model,(t.commands??[]).filter((e=>e.name)).forEach((o=>{o.controller=t.model.controller,n[o.name](o,(t=>l({...e,message:t})))})),{config:e,state:t}}new Date,window.stateHistory=[],window.render=l},261:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});let a={};"undefined"!=typeof document&&document.documentElement.controllers&&(a=document.documentElement.controllers);const n=async(e,t,n,r="")=>{if(!t&&!e)return{model:{},commands:[{name:"navigate",message:"navigation"}]};if("back"==t?.name)return{model:e,commands:[{name:"navigateBack"}]};if("sessionFail"==t?.name)return{model:e,commands:[{name:"navigate",data:{location:!0,url:"/login"}}]};if("navigation"==t?.name){e.url=t.data,e.controller=null,e.url.hash&&document.querySelector(e.url.hash)?.scrollIntoView();for(const o in n){const a=t.data.pathname.match(new RegExp(n[o].regexp));if(a){a.shift(),t.data.args=Object.fromEntries(n[o].args.map(((e,t)=>[e,a[t]]))),e.controller=n[o].route;break}}if(!e.controller)throw new Error("Not found")}e?.controller&&!a[e.controller]&&("undefined"!=typeof document&&(document.body.classList.add("animate-pulse"),document.body.inert=!0),a[e.controller]=(await o(905)(r+e.controller)).default);const s=a[e?.controller??0]??((e,t)=>({model:e,html:""}));if(!("/root.js"in a))try{const e=await o(897)(r+"/root.js");a["/root.js"]=e.default}catch(e){a["/root.js"]=null}return a["/root.js"]?a["/root.js"](e,t,s):s(e,t)}},993:(e,t,o)=>{"use strict";o.d(t,{Em:()=>n,ox:()=>r});const a={};function n(e){const t=e.apiURL??"",o=e.url??t+e.path;if(e.cache){if(o in a)return Promise.resolve(a[o]);a[o]={}}const n={method:e.method??"GET",insecure:!0,headers:{Authorization:e.token?"Basic "+btoa("token:"+e.token):void 0,..."FormData"!=e.body?.constructor?.name&&{"Content-Type":"application/json"}},body:e.body?"FormData"!=e.body?.constructor?.name?JSON.stringify(e.body):e.body:void 0};return new Promise(((t,r)=>{fetch(o,n).then((async n=>{const r=function(e){let t={headers:Object.fromEntries(e.headers)};return["bodyUsed","ok","redirected","status","statusText","type","url"].forEach((o=>t[o]=e[o])),t}(n);r.textBody=await n.text();try{r.jsonBody=JSON.parse(r.textBody)}catch(e){}e.cache&&n.ok&&(a[o]=r),t(r)}))}))}function r(e){let t={searchParams:Object.fromEntries(e.searchParams)};return["hash","host","hostname","href","origin","password","pathname","port","protocol","search","username"].forEach((o=>t[o]=e[o])),t}window.req=n},897:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=897,e.exports=t},905:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=905,e.exports=t}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,s),o.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(n,r,s)=>{var d;s&&((d=[]).d=-1);var l,c,i,m=new Set,u=n.exports,h=new Promise(((e,t)=>{i=t,c=e}));h[t]=u,h[e]=e=>(d&&e(d),m.forEach(e),h.catch((e=>{}))),n.exports=h,r((n=>{var r;l=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[e])return n;if(n.then){var r=[];r.d=0,n.then((e=>{s[t]=e,a(r)}),(e=>{s[o]=e,a(r)}));var s={};return s[e]=e=>e(r),s}}var d={};return d[e]=e=>{},d[t]=n,d})))(n);var s=()=>l.map((e=>{if(e[o])throw e[o];return e[t]})),c=new Promise((t=>{(r=()=>t(s)).r=0;var o=e=>e!==d&&!m.has(e)&&(m.add(e),e&&!e.d&&(r.r++,e.push(r)));l.map((t=>t[e](o)))}));return r.r?c:s()}),(e=>(e?i(h[o]=e):c(u),a(d)))),d&&d.d<0&&(d.d=0)},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s(237)})();